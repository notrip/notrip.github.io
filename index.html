<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Hexo</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
    
<meta name="generator" content="Hexo 5.4.2"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/atom.xml" class="header__link">RSS</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Hexo</a></h1>
		<h2 class="header__subtitle"></h2>
	</header>

	<main>
		



	<article>
	
		<h1><a href="/2022/05/22/SparkåŸºç¡€ç¯å¢ƒé…ç½®/">SparkåŸºç¡€ç¯å¢ƒé…ç½®</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-22</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/Spark%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" rel="tag">SparkåŸºç¡€ç¯å¢ƒé…ç½®</a>
			</span>
		
	</div>

	

	
		<h5 id="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1"><a href="#åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1" class="headerlink" title="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1"></a><em>åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1</em></h5><ul>
<li>Mac ç”¨æˆ·æ³¨æ„éœ€è¦æ³¨æ„ï¼Œè™šæ‹Ÿæœºä½¿ç”¨VMware Fusionï¼Œé•œåƒä¸ºCentOS7.</li>
</ul>
<hr>
<h2 id="ä¸€ã€åŸºç¡€é…ç½®"><a href="#ä¸€ã€åŸºç¡€é…ç½®" class="headerlink" title="ä¸€ã€åŸºç¡€é…ç½®"></a>ä¸€ã€åŸºç¡€é…ç½®</h2><h4 id="1-é…ç½®ç½‘ç»œé€‚é…"><a href="#1-é…ç½®ç½‘ç»œé€‚é…" class="headerlink" title="1.é…ç½®ç½‘ç»œé€‚é…"></a><strong>1.é…ç½®ç½‘ç»œé€‚é…</strong></h4><p>Macç”¨æˆ·åªéœ€ç‚¹å‡»VMware Fusion &gt; åå¥½è®¾ç½® &gt; ç½‘ç»œï¼Œå¹¶ç‚¹å‡»å·¦ä¸‹è§’â€œ + â€å³å¯æ·»åŠ è™šæ‹Ÿæœºä¸Šæ‰€ç”¨çš„å­ç½‘ipï¼ˆä¾‹ï¼š192.168.138.0ï¼‰ã€‚</p>
<p><figure class="figure"><img src="/2022/05/22/Spark%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.png" alt="1.png"><figcaption class="figure__caption">1.png</figcaption></figure></p>
<p><em>æ³¨ï¼šMacç”¨æˆ·è‹¥çœç•¥æ­¤å¤„æ­¥éª¤å¯èƒ½ä¼šå¯¼è‡´æ—¶é—´çš„æ¨ç§»è€Œå¯¼è‡´pingä¸åŠ¨ç½‘ç»œï¼ˆè¡€çš„æ•™è®­ğŸ˜­ï¼‰</em></p>
<ul>
<li><p>åˆ†åˆ«ä¿®æ”¹ä¸‰å°è™šæ‹Ÿæœºçš„ä¸»æœºå</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">node1</span></span><br><span class="line">echo &quot;node1&quot; &gt;/etc/hostname</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">node2</span></span><br><span class="line">echo &quot;node2&quot; &gt;/etc/hostname</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">node3</span></span><br><span class="line">echo &quot;node3&quot; &gt;/etc/hostname</span><br></pre></td></tr></table></figure></li>
<li><p>æ›´è¯¥ç½‘ç»œé…ç½® ï¼ˆnode1 node2 node3ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-ens33(node2,node3ä¸­çš„IPADDRåªéœ€åœ¨151ä¸Šé€’åŠ å³å¯)</span><br><span class="line"></span><br><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">BOOTPROTO=&quot;static&quot;# é…ç½®BOOTPROTO=staticï¼šè¡¨ç¤ºé™æ€è·¯ç”±åè®®ï¼Œå¯ä»¥ä¿æŒIPå›ºå®š</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line">NAME=&quot;ens33&quot;</span><br><span class="line">UUID=&quot;7815751b-505d-4ae2-b2d4-aa39591dc6aa&quot;</span><br><span class="line">DEVICE=&quot;ens33&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;# é…ç½®ONBOOT=yes:è¡¨ç¤ºå¯åŠ¨è¿™å—ç½‘å¡</span><br><span class="line">IPADDR=&quot;192.168.138.151&quot;# é…ç½®IPADDR:è¡¨ç¤ºè™šæ‹Ÿæœºçš„IPåœ°å€ï¼Œè¿™é‡Œè®¾ç½®çš„IPåœ°å€è¦ä¸å‰é¢IPæ˜ å°„é…ç½®æ—¶çš„IPåœ°å€ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ä¸»æœºåæ‰¾åˆ°å¯¹åº”IP;</span><br><span class="line">PREFIX=&quot;24&quot;</span><br><span class="line">GATEWAY=&quot;192.168.138.2&quot;# é…ç½®GATEWAY:è¡¨ç¤ºè™šæ‹Ÿæœºç½‘å…³,é€šå¸¸éƒ½æ˜¯å°†IPåœ°å€æœ€åä¸€ä¸ªä½æ•°å˜ä¸º2;</span><br><span class="line">DNS1=&quot;192.168.138.2&quot;# é…ç½®DNS1:è¡¨ç¤ºåŸŸåè§£æå™¨ï¼Œæ­¤å¤„é‡‡ç”¨Googleæä¾›çš„å…è´¹DNSæœåŠ¡å™¨88.8.8(ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºPCç«¯ç”µè„‘å¯¹åº”çš„DNS)ã€‚</span><br><span class="line">DOMAIN=&quot;114.114.114.114&quot;</span><br><span class="line">IPV6_PRIVACY=&quot;no&quot;</span><br></pre></td></tr></table></figure></li>
<li><p>æ›´æ”¹å®Œæˆåå¯¹ä¸‰å°è™šæ‹Ÿæœºè¿›è¡Œé‡å¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown -r 0</span><br></pre></td></tr></table></figure></li>
<li><p>é‡å¯æˆåŠŸåè¿›è¡Œä¸€æ¬¡è¿é€šå¤–ç½‘çš„æµ‹è¯•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping baidu.com -c3</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-ä¿®æ”¹hostæ˜ å°„"><a href="#2-ä¿®æ”¹hostæ˜ å°„" class="headerlink" title="2.ä¿®æ”¹hostæ˜ å°„"></a>2.ä¿®æ”¹hostæ˜ å°„</h4><p>ä¿®æ”¹/etc/hostsæ˜ å°„æ–‡ä»¶ï¼Œä¸ºçš„æ˜¯å°†æ¥å¯¹ç›¸å…³è”çš„è™šæ‹Ÿæœºæ“ä½œæ›´åŠ ä¾¿æ·ï¼Œå…¶ä¸­æ·»åŠ ç›¸äº’å¯¹åº”çš„IPåœ°å€å’Œä¸»æœºåã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line"></span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"></span><br><span class="line">192.168.138.151 node1 node1.itcast.cn</span><br><span class="line">192.168.138.152 node2 node2.itcast.cn</span><br><span class="line">192.168.138.153 node3 node3.itcast.cn                                 </span><br></pre></td></tr></table></figure>

<p>æ–°æ‰‹é¡»çŸ¥ï¼šæ¨å‡ºå¹¶ä¿å­˜çš„æ–¹å¼å¯ä¸º â€˜esc + xâ€˜ï¼Œâ€™esc + shift+zzâ€˜</p>
<h4 id="3-é›†ç¾¤çš„æ—¶é—´åŒæ­¥"><a href="#3-é›†ç¾¤çš„æ—¶é—´åŒæ­¥" class="headerlink" title="3.é›†ç¾¤çš„æ—¶é—´åŒæ­¥"></a>3.é›†ç¾¤çš„æ—¶é—´åŒæ­¥</h4><p>æˆ‘ä»¬æœ‰çš„æ—¶å€™åœ¨ä½¿ç”¨è™šæ‹Ÿæœºæ—¶é‡åˆ°æ•°æ®è¯¯å·®çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¸æ¸…æ¥šå“ªé‡Œå‡ºé”™ï¼ŒåŸå› å°±åœ¨å¯èƒ½æ²¡æœ‰è¿›è¡Œæ—¶é—´åŒæ­¥ã€‚åœ¨æ•´ä¸ªé›†ç¾¤å½“ä¸­ï¼Œæ—¶é—´åŒæ­¥å……å½“ååˆ†é‡è¦çš„è§’è‰²ã€‚ä¸è¦å­˜åœ¨ä¾¥å¹¸å¿ƒç†ï¼Œå¦‚è‹¥å› ä¸ºæ—¶é—´ä¸åŒæ­¥é€ æˆäº†æŸå¤±ï¼Œå³ä½¿æ˜¯è¿›è¡Œäº†æ•°æ®å¤‡ä»½ï¼Œé‚£ä¹ˆä½ å¯èƒ½æ— æ³•åœ¨æ­£ç¡®çš„æ—¶é—´å°†æ­£ç¡®çš„æ•°æ®è¿›è¡Œå¤‡ä»½ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntpdate ntp5.aliyun.com</span><br></pre></td></tr></table></figure>

<p>å»ºè®®ï¼šåœ¨æ¯æ¬¡æ‰§è¡Œpoweroffä¹‹åçš„å†å¯åŠ¨åæ‰§è¡Œã€‚</p>
<h4 id="4-SSHå…å¯†é’¥ç™»é™†"><a href="#4-SSHå…å¯†é’¥ç™»é™†" class="headerlink" title="4. SSHå…å¯†é’¥ç™»é™†"></a>4. SSHå…å¯†é’¥ç™»é™†</h4><ul>
<li><p>åœ¨node1ä¸Šç”Ÿæˆå…¬é’¥ç§é’¥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br><span class="line"></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): </span><br><span class="line">Enter passphrase (empty for no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:QUAgFH5KBc/Erlf1JWSBbKeEepPJqMBqpWbc02/uFj8 root@master</span><br><span class="line">The key&#x27;s randomart image is:</span><br><span class="line">+---[RSA 2048]----+</span><br><span class="line">| .=++oo+.o+.     |</span><br><span class="line">| . *. ..*.o .    |</span><br><span class="line">|. o.++ *.+ o     |</span><br><span class="line">|.o ++ B ...      |</span><br><span class="line">|o.=o.o .S        |</span><br><span class="line">|.*oo.. .         |</span><br><span class="line">|+  .. . o        |</span><br><span class="line">|       + E       |</span><br><span class="line">|      =o  .      |</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨node1ä¸Šé…ç½®å…å¯†ç™»é™†node1 node2 node3</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id master</span><br><span class="line">ssh-copy-id slave1</span><br><span class="line">ssh-copy-id slave2</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="äºŒã€å®‰è£…é…ç½®JDK"><a href="#äºŒã€å®‰è£…é…ç½®JDK" class="headerlink" title="äºŒã€å®‰è£…é…ç½®JDK"></a>äºŒã€å®‰è£…é…ç½®JDK</h2><h4 id="1-åˆ›å»ºç¼–è¯‘ç¯å¢ƒè½¯ä»¶æ‰€éœ€çš„æ ¹ç›®å½•"><a href="#1-åˆ›å»ºç¼–è¯‘ç¯å¢ƒè½¯ä»¶æ‰€éœ€çš„æ ¹ç›®å½•" class="headerlink" title="1.åˆ›å»ºç¼–è¯‘ç¯å¢ƒè½¯ä»¶æ‰€éœ€çš„æ ¹ç›®å½•"></a>1.åˆ›å»ºç¼–è¯‘ç¯å¢ƒè½¯ä»¶æ‰€éœ€çš„æ ¹ç›®å½•</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /export/server</span><br></pre></td></tr></table></figure>

<h4 id="2-å®‰è£…JDK1-8-ï¼ˆé¦–å…ˆå°†-jdk-8u241-linux-x64-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"><a href="#2-å®‰è£…JDK1-8-ï¼ˆé¦–å…ˆå°†-jdk-8u241-linux-x64-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰" class="headerlink" title="2.å®‰è£…JDK1.8 ï¼ˆé¦–å…ˆå°† jdk-8u241-linux-x64.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"></a>2.å®‰è£…JDK1.8 ï¼ˆé¦–å…ˆå°† jdk-8u241-linux-x64.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u241-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="3-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡"><a href="#3-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="3.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡"></a>3.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br></pre></td></tr></table></figure>

<h4 id="4-åŠ è½½ç¯å¢ƒå˜é‡"><a href="#4-åŠ è½½ç¯å¢ƒå˜é‡" class="headerlink" title="4.åŠ è½½ç¯å¢ƒå˜é‡"></a>4.åŠ è½½ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="5-æŸ¥çœ‹javaç‰ˆæœ¬"><a href="#5-æŸ¥çœ‹javaç‰ˆæœ¬" class="headerlink" title="5.æŸ¥çœ‹javaç‰ˆæœ¬"></a>5.æŸ¥çœ‹javaç‰ˆæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">(base) [root@node1 ~]# java -version</span><br><span class="line">java version &quot;1.8.0_241&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_241-b07)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)</span><br></pre></td></tr></table></figure>

<p>å‡ºç°ä»¥ä¸‹å†…å®¹åˆ™ä»£è¡¨å®‰è£…æˆåŠŸ</p>
<h4 id="6-å°†javaæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­ï¼Œä¼ è¾“å®Œæˆåï¼Œé…ç½®æ–¹æ³•å‚è€ƒ-3-4"><a href="#6-å°†javaæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­ï¼Œä¼ è¾“å®Œæˆåï¼Œé…ç½®æ–¹æ³•å‚è€ƒ-3-4" class="headerlink" title="6.å°†javaæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­ï¼Œä¼ è¾“å®Œæˆåï¼Œé…ç½®æ–¹æ³•å‚è€ƒ 3. 4."></a>6.å°†javaæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­ï¼Œä¼ è¾“å®Œæˆåï¼Œé…ç½®æ–¹æ³•å‚è€ƒ 3. 4.</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/jdk1.8.0_241/ root@node2:/export/server/</span><br><span class="line">scp -r /export/server/jdk1.8.0_241/ root@node3:/export/server/</span><br></pre></td></tr></table></figure>

<h4 id="7-åœ¨ä¸‰å°ä¸»æœºåˆ†åˆ«åˆ›å»ºè½¯è¿æ¥ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼‰"><a href="#7-åœ¨ä¸‰å°ä¸»æœºåˆ†åˆ«åˆ›å»ºè½¯è¿æ¥ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼‰" class="headerlink" title="7. åœ¨ä¸‰å°ä¸»æœºåˆ†åˆ«åˆ›å»ºè½¯è¿æ¥ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼‰"></a>7. åœ¨ä¸‰å°ä¸»æœºåˆ†åˆ«åˆ›å»ºè½¯è¿æ¥ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server</span><br><span class="line">ln -s jdk1.8.0_241/jdk</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ä¸‰ã€å®‰è£…é…ç½®Hadoop"><a href="#ä¸‰ã€å®‰è£…é…ç½®Hadoop" class="headerlink" title="ä¸‰ã€å®‰è£…é…ç½®Hadoop"></a>ä¸‰ã€å®‰è£…é…ç½®Hadoop</h2><h4 id="1-å®‰è£…Hadoop-ï¼ˆé¦–å…ˆå°†hadoop-3-3-0-Centos7-with-wnappy-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"><a href="#1-å®‰è£…Hadoop-ï¼ˆé¦–å…ˆå°†hadoop-3-3-0-Centos7-with-wnappy-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰" class="headerlink" title="1.å®‰è£…Hadoop ï¼ˆé¦–å…ˆå°†hadoop-3.3.0-Centos7-with-wnappy.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"></a>1.å®‰è£…Hadoop ï¼ˆé¦–å…ˆå°†hadoop-3.3.0-Centos7-with-wnappy.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf hadoop-3.3.0-Centos7-with-wnappy.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="2-åˆ›å»ºè½¯è¿æ¥"><a href="#2-åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="2.åˆ›å»ºè½¯è¿æ¥"></a>2.åˆ›å»ºè½¯è¿æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s jhadoop-3.3.0/ hadoop</span><br></pre></td></tr></table></figure>

<h4 id="3-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#3-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="3.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>3.ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd  /export/server/hadoop/etc/hadoop</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¿®æ”¹Hadoop-env.shæ–‡ä»¶ </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim hadoop-env.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æœ«å°¾æ·»åŠ </span></span><br><span class="line">export JAVA_HOME=/export/server/jdk</span><br><span class="line"></span><br><span class="line">export HDFS_NAMENODE_USER=root</span><br><span class="line">export HDFS_DATANODE_USER=root</span><br><span class="line">export HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line">export YARN_RESOURCEMANAGER_USER=root</span><br><span class="line">export YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹core-site.xmlæ–‡ä»¶</p>
<ul>
<li><p>è®¾ç½®é»˜è®¤ç³»ç»Ÿ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hdfs://node1:8020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®hadoopæœ¬åœ°ä¿å­˜æ•°æ®è·¯å¾„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;/export/data/hadoop-3.3.0&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®HDFS web UIç”¨æˆ·èº«ä»½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;root&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>æ•´åˆhiveç”¨æˆ·ä»£ç†è®¾ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">    </span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®æ–‡ä»¶ç³»ç»Ÿåƒåœ¾æ¡¶ä¿å­˜æ—¶é—´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.trash.interval&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;1440&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>é…ç½®mapred-site.xml</p>
<ul>
<li><p>è®¾ç½®MRç¨‹åºé»˜è®¤è¿è¡Œæ¨¡å¼ï¼šyarné›†ç¾¤æ¨¡å¼ localæœ¬åœ°æ¨¡å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®MRç¨‹åºå†å²æœåŠ¡åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;node1:10020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®MRç¨‹åºå†å²æœåŠ¡å™¨webç«¯åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;node1:19888&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">    </span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">    </span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.map.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">    </span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ä¿®æ”¹yarn-site.xml</p>
<ul>
<li><p>è®¾ç½®YARNé›†ç¾¤ä¸»è§’è‰²è¿è¡Œæœºå™¨ä½ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;node1&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">    </span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>æ˜¯å¦å°†å¯¹å®¹å™¨å®æ–½ç‰©ç†å†…å­˜é™åˆ¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®yarnå†å²æœåŠ¡å™¨åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.log.server.url&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;http://node1:19888/jobhistory/logs&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>å†å²æ—¥å¿—ä¿å­˜çš„æ—¶é—´ 7å¤©</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;604800&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="4-å°†Hadoopæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­"><a href="#4-å°†Hadoopæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­" class="headerlink" title="4. å°†Hadoopæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­"></a>4. å°†Hadoopæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/hadoop/ root@node2:/export/server/</span><br><span class="line">scp -r /export/server/hadoop/ root@node3:/export/server/</span><br></pre></td></tr></table></figure>

<h4 id="5-ä¸‰å°ä¸»æœºåˆ†åˆ«é…ç½®å…¨å±€å˜é‡"><a href="#5-ä¸‰å°ä¸»æœºåˆ†åˆ«é…ç½®å…¨å±€å˜é‡" class="headerlink" title="5. ä¸‰å°ä¸»æœºåˆ†åˆ«é…ç½®å…¨å±€å˜é‡"></a>5. ä¸‰å°ä¸»æœºåˆ†åˆ«é…ç½®å…¨å±€å˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure>

<h4 id="6-é‡æ–°åŠ è½½å…¨å±€ç¯å¢ƒå˜é‡"><a href="#6-é‡æ–°åŠ è½½å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="6.é‡æ–°åŠ è½½å…¨å±€ç¯å¢ƒå˜é‡"></a>6.é‡æ–°åŠ è½½å…¨å±€ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="7-Hadoopé›†ç¾¤å¯åŠ¨å‰éœ€è¦è¿›è¡Œæ ¼å¼åŒ–"><a href="#7-Hadoopé›†ç¾¤å¯åŠ¨å‰éœ€è¦è¿›è¡Œæ ¼å¼åŒ–" class="headerlink" title="7.Hadoopé›†ç¾¤å¯åŠ¨å‰éœ€è¦è¿›è¡Œæ ¼å¼åŒ–"></a>7.Hadoopé›†ç¾¤å¯åŠ¨å‰éœ€è¦è¿›è¡Œæ ¼å¼åŒ–</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure>

<h4 id="8-å¯åŠ¨hadoopé›†ç¾¤"><a href="#8-å¯åŠ¨hadoopé›†ç¾¤" class="headerlink" title="8.å¯åŠ¨hadoopé›†ç¾¤"></a>8.å¯åŠ¨hadoopé›†ç¾¤</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/hadoop/bin</span><br><span class="line"></span><br><span class="line">start-dfs.sh</span><br><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure>

<h4 id="9-æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿›ç¨‹æœåŠ¡"><a href="#9-æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿›ç¨‹æœåŠ¡" class="headerlink" title="9.æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿›ç¨‹æœåŠ¡"></a>9.æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿›ç¨‹æœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# jps</span><br><span class="line">3040 ResourceManager</span><br><span class="line">3713 Jps</span><br><span class="line">3240 NodeManager</span><br><span class="line">2603 DataNode</span><br><span class="line">2335 NameNode</span><br><span class="line"></span><br><span class="line">(base) [root@node2 ~]# jps</span><br><span class="line">2322 Jps</span><br><span class="line">2101 SecondaryNameNode</span><br><span class="line">2199 NodeManager</span><br><span class="line">1978 DataNode</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line"></span><br><span class="line">(base) [root@node3 ~]# jps</span><br><span class="line">2225 Jps</span><br><span class="line">1972 DataNode</span><br><span class="line">2101 NodeManager</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<h4 id="10-è¿›å…¥hdfs-yarn-web-UIé¡µé¢"><a href="#10-è¿›å…¥hdfs-yarn-web-UIé¡µé¢" class="headerlink" title="10.è¿›å…¥hdfs yarn web UIé¡µé¢"></a>10.è¿›å…¥hdfs yarn web UIé¡µé¢</h4><p><figure class="figure"><img src="/2022/05/22/Spark%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2.png" alt="2.png"><figcaption class="figure__caption">2.png</figcaption></figure></p>
<p><figure class="figure"><img src="/2022/05/22/Spark%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.png" alt="3.png"><figcaption class="figure__caption">3.png</figcaption></figure></p>
<hr>
<h2 id="å››ã€å®‰è£…é…ç½®zookeeper"><a href="#å››ã€å®‰è£…é…ç½®zookeeper" class="headerlink" title="å››ã€å®‰è£…é…ç½®zookeeper"></a>å››ã€å®‰è£…é…ç½®zookeeper</h2><h4 id="1-å®‰è£…zookeeper-ï¼ˆé¦–å…ˆå°†zookeeper-3-4-10-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"><a href="#1-å®‰è£…zookeeper-ï¼ˆé¦–å…ˆå°†zookeeper-3-4-10-tar-gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰" class="headerlink" title="1.å®‰è£…zookeeper ï¼ˆé¦–å…ˆå°†zookeeper-3.4.10.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"></a>1.å®‰è£…zookeeper ï¼ˆé¦–å…ˆå°†zookeeper-3.4.10.tar.gzå‹ç¼©åŒ…ä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf zookeeper-3.4.10.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="2-åˆ›å»ºè½¯è¿æ¥-1"><a href="#2-åˆ›å»ºè½¯è¿æ¥-1" class="headerlink" title="2.åˆ›å»ºè½¯è¿æ¥"></a>2.åˆ›å»ºè½¯è¿æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s zookeeper-3.4.10/ zookeeper</span><br></pre></td></tr></table></figure>

<h4 id="3-ä¿®æ”¹é…ç½®æ–‡ä»¶-1"><a href="#3-ä¿®æ”¹é…ç½®æ–‡ä»¶-1" class="headerlink" title="3.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>3.ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/conf/ </span><br></pre></td></tr></table></figure>

<ul>
<li><p>å°† zoo_sample.cfg æ–‡ä»¶å¤åˆ¶ä¸ºæ–°æ–‡ä»¶ zoo.cfg </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®zoo.cfgæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vim zoo.cfg</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Zookeeperçš„æ•°æ®å­˜æ”¾ç›®å½•</span></span><br><span class="line">dataDir=/export/server/zookeeper/zkdatas</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿ç•™å¤šå°‘ä¸ªå¿«ç…§</span></span><br><span class="line">autopurge.snapRetainCount=3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ—¥å¿—å¤šå°‘å°æ—¶æ¸…ç†ä¸€æ¬¡</span></span><br><span class="line">autopurge.purgeInterval=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é›†ç¾¤ä¸­æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">server.1=node1:2888:3888</span><br><span class="line">server.2=node2:2888:3888</span><br><span class="line">server.3=node3:2888:3888</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-è¿›å…¥-export-server-zookeeper-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-1-å†™å…¥è¿›å»"><a href="#4-è¿›å…¥-export-server-zookeeper-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-1-å†™å…¥è¿›å»" class="headerlink" title="4.è¿›å…¥ /export/server/zookeeper/zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 1 å†™å…¥è¿›å»"></a>4.è¿›å…¥ /export/server/zookeeper/zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 1 å†™å…¥è¿›å»</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/zkdata</span><br><span class="line"></span><br><span class="line">touch myid</span><br><span class="line"></span><br><span class="line">echo &#x27;1&#x27; &gt; myid</span><br></pre></td></tr></table></figure>

<h4 id="5-å°†zookeeperæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­"><a href="#5-å°†zookeeperæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2-node3ä¸­" class="headerlink" title="5.å°†zookeeperæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­"></a>5.å°†zookeeperæ–‡ä»¶ä»node1ä¸­ä¼ è¾“åˆ°node2 node3ä¸­</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/zookeeper-3.4.10/ node2:$PWD</span><br><span class="line">scp -r /export/server/zookeeper-3.4.10/ node3:$PWD</span><br></pre></td></tr></table></figure>

<h4 id="6-åˆ›å»ºè½¯è¿æ¥"><a href="#6-åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="6.åˆ›å»ºè½¯è¿æ¥"></a>6.åˆ›å»ºè½¯è¿æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s zookeeper-3.4.10/ zookeeper</span><br></pre></td></tr></table></figure>

<h4 id="7-node2-node3åˆ†åˆ«è¿›å…¥-export-server-zookeeper-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-2-ï¼Œ3-å†™å…¥è¿›å»"><a href="#7-node2-node3åˆ†åˆ«è¿›å…¥-export-server-zookeeper-zkdatas-ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º-myid-æ–‡ä»¶ï¼Œå°†-2-ï¼Œ3-å†™å…¥è¿›å»" class="headerlink" title="7.node2 node3åˆ†åˆ«è¿›å…¥ /export/server/zookeeper/zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 2 ï¼Œ3 å†™å…¥è¿›å»"></a>7.node2 node3åˆ†åˆ«è¿›å…¥ /export/server/zookeeper/zkdatas ç›®å½•åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ï¼Œå°† 2 ï¼Œ3 å†™å…¥è¿›å»</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/zookeeper/zkdatas/</span><br><span class="line"></span><br><span class="line">[root@node2 zkdatas]# vim myid </span><br><span class="line">[root@node2 zkdatas]# more myid </span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">[root@node3 zkdatas]# vim myid </span><br><span class="line">[root@node3 zkdatas]# more myid </span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h4 id="8-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡"><a href="#8-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="8.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡"></a>8.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zookeeper ç¯å¢ƒå˜é‡</span></span><br><span class="line">export ZOOKEEPER_HOME=/export/server/zookeeper</span><br><span class="line">export PATH=$PATH:$ZOOKEEPER_HOME/bin</span><br></pre></td></tr></table></figure>

<h4 id="9-é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡"><a href="#9-é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡" class="headerlink" title="9.é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡"></a>9.é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="10-å¯åŠ¨zookeeperæœåŠ¡"><a href="#10-å¯åŠ¨zookeeperæœåŠ¡" class="headerlink" title="10.å¯åŠ¨zookeeperæœåŠ¡"></a>10.å¯åŠ¨zookeeperæœåŠ¡</h4><ul>
<li><p>æ™®é€šå¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd  /export/server/zookeeper-3.4.10/bin </span><br><span class="line"></span><br><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–å†™è„šæœ¬è¿›è¡Œä¸€é”®å¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">cd /bin</span><br><span class="line"></span><br><span class="line">vim zkall.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">if [ $# -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;please input param:start stop&quot;</span><br><span class="line">else</span><br><span class="line">if [ $1 = start  ]</span><br><span class="line">then</span><br><span class="line">for i in &#123;1..3&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;$&#123;1&#125;ing node$&#123;i&#125;&quot;</span><br><span class="line">ssh node$&#123;i&#125; &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh start&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ $1 = stop ]</span><br><span class="line">then</span><br><span class="line">for i in &#123;1..3&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;$&#123;1&#125;ping node$&#123;i&#125;&quot;</span><br><span class="line">ssh node$&#123;i&#125; &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh stop&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ $1 = status ]</span><br><span class="line">then</span><br><span class="line">for i in &#123;1..3&#125;</span><br><span class="line">do</span><br><span class="line">echo &quot;node$&#123;i&#125; status:&quot;</span><br><span class="line">ssh node$&#123;i&#125; &quot;source /etc/profile;/export/server/zookeeper/bin/zkServer.sh status&quot;</span><br><span class="line">done</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ç»™ç¼–å†™çš„è„šæœ¬èµ‹äºˆå¯æ‰§è¡Œæƒé™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x zkall.sh</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>æ³¨ï¼šå¯åŠ¨æ—¶ï¼Œæ— éœ€è¿›å…¥ä»»æ„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œç›´æ¥æ‰§è¡Œzkall.sh start å³å¯</strong></p>
</li>
</ul>
<h4 id="11-æŸ¥çœ‹è¿›ç¨‹"><a href="#11-æŸ¥çœ‹è¿›ç¨‹" class="headerlink" title="11.æŸ¥çœ‹è¿›ç¨‹"></a>11.æŸ¥çœ‹è¿›ç¨‹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# jps</span><br><span class="line">4957 Jps</span><br><span class="line">4911 QuorumPeerMain</span><br><span class="line"></span><br><span class="line">(base) [root@node2 ~]# jps</span><br><span class="line">2736 QuorumPeerMain</span><br><span class="line">2795 Jps</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line"></span><br><span class="line">(base) [root@node3 ~]# jps</span><br><span class="line">2576 Jps</span><br><span class="line">2533 QuorumPeerMain</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>


	

	

</article>




	<article>
	
		<h1><a href="/2022/05/22/Spark-local-stand-aloneé…ç½®/">Spark local&amp; stand-aloneé…ç½®</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-22</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/Spark-local-stand-alone%E9%85%8D%E7%BD%AE/" rel="tag">Spark local& stand-aloneé…ç½®</a>
			</span>
		
	</div>

	

	
		<h5 id="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1"><a href="#åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1" class="headerlink" title="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1"></a><em>åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1</em></h5><hr>
<h2 id="å®‰è£…é…ç½®Spark"><a href="#å®‰è£…é…ç½®Spark" class="headerlink" title="å®‰è£…é…ç½®Spark"></a>å®‰è£…é…ç½®Spark</h2><p><em><strong>Sparkæ˜¯ä¸“ä¸ºå¤§è§„æ¨¡æ•°æ®å¤„ç†è€Œè®¾è®¡çš„å¿«é€Ÿé€šç”¨çš„è®¡ç®—å¼•æ“ï¼Œå…¶æä¾›äº†ä¸€ä¸ªå…¨é¢ã€ç»Ÿä¸€çš„æ¡†æ¶ç”¨äºç®¡ç†å„ç§ä¸åŒæ€§è´¨çš„æ•°æ®é›†å’Œæ•°æ®æºçš„å¤§æ•°æ®å¤„ç†çš„éœ€æ±‚ï¼Œå¤§æ•°æ®å¼€å‘éœ€æŒæ¡SparkåŸºç¡€ã€SparkJobã€Spark RDDã€spark jobéƒ¨ç½²ä¸èµ„æºåˆ†é…ã€Spark shuffleã€Sparkå†…å­˜ç®¡ç†ã€Sparkå¹¿æ’­å˜é‡ã€Spark SQLã€Spark Streamingä»¥åŠSpark MLç­‰ç›¸å…³çŸ¥è¯†ã€‚</strong></em></p>
<hr>
<h2 id="ä¸€ã€Spark-localæ¨¡å¼"><a href="#ä¸€ã€Spark-localæ¨¡å¼" class="headerlink" title="ä¸€ã€Spark-localæ¨¡å¼"></a>ä¸€ã€Spark-localæ¨¡å¼</h2><p><em><strong>localæ¨¡å¼æ˜¯ä»¥ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œé€šè¿‡å…¶å†…éƒ¨çš„å¤šä¸ªçº¿ç¨‹æ¥æ¨¡æ‹Ÿæ•´ä¸ªspark</strong></em></p>
<h4 id="1-å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021-05-Linux-x86-64-shä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼åªéœ€åœ¨node1ä¸Šå®‰è£…å³å¯ï¼‰"><a href="#1-å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021-05-Linux-x86-64-shä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼åªéœ€åœ¨node1ä¸Šå®‰è£…å³å¯ï¼‰" class="headerlink" title="1.å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021.05-Linux-x86_64.shä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼åªéœ€åœ¨node1ä¸Šå®‰è£…å³å¯ï¼‰"></a>1.å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021.05-Linux-x86_64.shä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼åªéœ€åœ¨node1ä¸Šå®‰è£…å³å¯ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sh Anaconda3-2021.05-Linux-x86_64.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€æ³¨æ„ï¼š</span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‡ºç°å†…å®¹é€‰ <span class="built_in">yes</span></span></span><br><span class="line">Please answer &#x27;yes&#x27; or &#x27;no&#x27;:&#x27;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">yes</span></span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‡ºç°æ·»åŠ è·¯å¾„ï¼š/export/server/anaconda3</span></span><br><span class="line">...</span><br><span class="line">[/root/anaconda3] &gt;&gt;&gt; /export/server/anaconda3</span><br><span class="line">PREFIX=/export/server/anaconda3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æˆåŠŸåï¼Œç°æ¨å‡ºï¼Œå†é‡æ–°ç™»å½•ç»ˆç«¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br><span class="line"></span><br><span class="line">(base) [root@node1 ~]# </span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šå‡ºç°ï¼ˆbaseï¼‰åˆ™ä»£è¡¨å®‰è£…æˆåŠŸï¼</p>
<h4 id="2-åˆ›å»ºåŸºäºpython3-8è™šæ‹Ÿç¯å¢ƒçš„pyspark"><a href="#2-åˆ›å»ºåŸºäºpython3-8è™šæ‹Ÿç¯å¢ƒçš„pyspark" class="headerlink" title="2.åˆ›å»ºåŸºäºpython3.8è™šæ‹Ÿç¯å¢ƒçš„pyspark"></a>2.åˆ›å»ºåŸºäºpython3.8è™šæ‹Ÿç¯å¢ƒçš„pyspark</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n pyspark python=3.8 </span><br></pre></td></tr></table></figure>

<h4 id="3-åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…"><a href="#3-åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…" class="headerlink" title="3.åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…"></a>3.åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# conda activate pyspark  </span><br><span class="line">(pyspark) [root@master ~]# </span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šå‡ºç°ï¼ˆpysparkï¼‰åˆ™ä»£è¡¨æˆåŠŸï¼</p>
<h4 id="4-åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…"><a href="#4-åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…" class="headerlink" title="4.åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…"></a>4.åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyhive pyspark jieba -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šä¸­é—´è¿‡ç¨‹å¯èƒ½ä¼šå‡ºç°WARNING ä¸ç®¡å³å¯</p>
<h4 id="5-å®‰è£…é…ç½®Sparkï¼ˆé¦–å…ˆå°†spark-3-2-0-bin-hadoop3-2-tgzä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"><a href="#5-å®‰è£…é…ç½®Sparkï¼ˆé¦–å…ˆå°†spark-3-2-0-bin-hadoop3-2-tgzä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰" class="headerlink" title="5. å®‰è£…é…ç½®Sparkï¼ˆé¦–å…ˆå°†spark-3.2.0-bin-hadoop3.2.tgzä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰"></a>5. å®‰è£…é…ç½®Sparkï¼ˆé¦–å…ˆå°†spark-3.2.0-bin-hadoop3.2.tgzä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è§£å‹ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf spark-3.2.0-bin-hadoop3.2.tgz -C /export/server/</span><br></pre></td></tr></table></figure>

<h4 id="6-åˆ›å»ºè½¯è¿æ¥"><a href="#6-åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="6.åˆ›å»ºè½¯è¿æ¥"></a>6.åˆ›å»ºè½¯è¿æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /export/server/spark-3.2.0-bin-hadoop3.2 /export/server/spark</span><br></pre></td></tr></table></figure>

<h4 id="7-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡-å¹¶é‡æ–°åŠ è½½"><a href="#7-é…ç½®å…¨å±€ç¯å¢ƒå˜é‡-å¹¶é‡æ–°åŠ è½½" class="headerlink" title="7.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡,å¹¶é‡æ–°åŠ è½½"></a>7.é…ç½®å…¨å±€ç¯å¢ƒå˜é‡,å¹¶é‡æ–°åŠ è½½</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">JAVA_HOME							JAVA_HOME: å‘ŠçŸ¥Spark Javaçš„æ‰€åœ¨è·¯å¾„ä½ç½®</span></span><br><span class="line">export JAVA_HOME=/export/server/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HADOOP_HOME						HADOOP_HOME: å‘ŠçŸ¥Spark  Hadoopçš„æ‰€åœ¨è·¯å¾„ä½ç½®</span></span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ZOOKEEPER_HOME</span></span><br><span class="line">export ZOOKEEPER_HOME=/export/server/zookeeper</span><br><span class="line">export PATH=$PATH:$ZOOKEEPER_HOME/bin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">SPARK_HOME      				SPARK_HOME: è¡¨ç¤ºSparkå®‰è£…è·¯å¾„</span></span><br><span class="line">export SPARK_HOME=/export/server/spark</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HADOOP_CONF_DIR				å‘ŠçŸ¥Spark Hadoopçš„é…ç½®æ–‡ä»¶çš„è·¯å¾„ä½ç½®</span></span><br><span class="line">export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">PYSPARK_PYTHON      		PYSPARK_PYTHON: è¡¨ç¤ºSparkå°†è¦è¿è¡ŒPythonç¨‹åº, pythonè§£é‡Šå™¨çš„ä½ç½®</span></span><br><span class="line">export PYSPARK_PYTHON=/export/server/anaconda3/envs/pyspark/bin/python</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡æ–°åŠ è½½</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim .bashrc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">JAVA_HOME</span></span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">PYSPARK_PYTHON</span></span><br><span class="line">export PYSPARK_PYTHON=/export/server/anaconda3/envs/pyspark/bin/python</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡æ–°åŠ è½½</span></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<h4 id="8-å¼€å¯"><a href="#8-å¼€å¯" class="headerlink" title="8.å¼€å¯"></a>8.å¼€å¯</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/anaconda3/envs/pyspark/bin/</span><br><span class="line">./pyspark</span><br></pre></td></tr></table></figure>

<p><figure class="figure"><img src="/2022/05/22/Spark-local-stand-alone%E9%85%8D%E7%BD%AE/4.png" alt="4.png"><figcaption class="figure__caption">4.png</figcaption></figure></p>
<h4 id="9-æŸ¥çœ‹web-UIç•Œé¢"><a href="#9-æŸ¥çœ‹web-UIç•Œé¢" class="headerlink" title="9.æŸ¥çœ‹web UIç•Œé¢"></a>9.æŸ¥çœ‹web UIç•Œé¢</h4><h4 id="10-é€€å‡º"><a href="#10-é€€å‡º" class="headerlink" title="10.é€€å‡º"></a>10.é€€å‡º</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="äºŒã€Spark-stand-aloneæ¨¡å¼"><a href="#äºŒã€Spark-stand-aloneæ¨¡å¼" class="headerlink" title="äºŒã€Spark-stand-aloneæ¨¡å¼"></a>äºŒã€Spark-stand-aloneæ¨¡å¼</h2><p><em><strong>Stand-aloneæ¨¡å¼ä¸­å„ä¸ªè§’è‰²ä»¥ç‹¬ç«‹ä¸ªä½“è¿›ç¨‹çš„æ–¹å¼å­˜åœ¨ï¼Œä¸€èµ·ç»„æˆSparké›†ç¾¤</strong></em></p>
<h4 id="1-å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021-05-Linux-x86-64-shä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼éœ€è¦å…¨éƒ¨å®‰è£…ï¼Œå› node1å·²éƒ¨ç½²ï¼Œæ‰€ä»¥åœ¨node2-node3å…¨éƒ¨å•ç‹¬éƒ¨ç½²ï¼‰"><a href="#1-å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021-05-Linux-x86-64-shä¸Šä¼ åˆ°-export-serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼éœ€è¦å…¨éƒ¨å®‰è£…ï¼Œå› node1å·²éƒ¨ç½²ï¼Œæ‰€ä»¥åœ¨node2-node3å…¨éƒ¨å•ç‹¬éƒ¨ç½²ï¼‰" class="headerlink" title="1.å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021.05-Linux-x86_64.shä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼éœ€è¦å…¨éƒ¨å®‰è£…ï¼Œå› node1å·²éƒ¨ç½²ï¼Œæ‰€ä»¥åœ¨node2 node3å…¨éƒ¨å•ç‹¬éƒ¨ç½²ï¼‰"></a>1.å®‰è£…Anacondaï¼ˆé¦–å…ˆå°†Anaconda3-2021.05-Linux-x86_64.shä¸Šä¼ åˆ°/export/serverç›®å½•ï¼Œå¹¶è¿è¡Œï¼‰â€”â€”â€”â€”ï¼ˆæ­¤æ¨¡å¼éœ€è¦å…¨éƒ¨å®‰è£…ï¼Œå› node1å·²éƒ¨ç½²ï¼Œæ‰€ä»¥åœ¨node2 node3å…¨éƒ¨å•ç‹¬éƒ¨ç½²ï¼‰</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sh Anaconda3-2021.05-Linux-x86_64.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€æ³¨æ„ï¼š</span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‡ºç°å†…å®¹é€‰ <span class="built_in">yes</span></span></span><br><span class="line">Please answer &#x27;yes&#x27; or &#x27;no&#x27;:&#x27;</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">yes</span></span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‡ºç°æ·»åŠ è·¯å¾„ï¼š/export/server/anaconda3</span></span><br><span class="line">...</span><br><span class="line">[/root/anaconda3] &gt;&gt;&gt; /export/server/anaconda3</span><br><span class="line">PREFIX=/export/server/anaconda3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æˆåŠŸåï¼Œç°æ¨å‡ºï¼Œå†é‡æ–°ç™»å½•ç»ˆç«¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br><span class="line"></span><br><span class="line">(base) [root@node1 ~]# </span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šnode2 node3 åˆ†åˆ«å…¨éƒ¨æ‰§è¡Œï¼ï¼ï¼</p>
<h4 id="2-æŠŠæ‰€éœ€çš„å…¨å±€ç¯å¢ƒå˜é‡å…¨éƒ¨ä¼ è¾“åˆ°node2-node3"><a href="#2-æŠŠæ‰€éœ€çš„å…¨å±€ç¯å¢ƒå˜é‡å…¨éƒ¨ä¼ è¾“åˆ°node2-node3" class="headerlink" title="2.æŠŠæ‰€éœ€çš„å…¨å±€ç¯å¢ƒå˜é‡å…¨éƒ¨ä¼ è¾“åˆ°node2 node3"></a>2.æŠŠæ‰€éœ€çš„å…¨å±€ç¯å¢ƒå˜é‡å…¨éƒ¨ä¼ è¾“åˆ°node2 node3</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¼ è¾“ .bashrc :</span></span><br><span class="line">scp ~/.bashrc root@node2:~/</span><br><span class="line">scp ~/.bashrc root@node3:~/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¼ è¾“ profile :</span></span><br><span class="line">scp /etc/profile/ root@node2:/etc/</span><br><span class="line">scp /etc/profile/ root@node3:/etc/</span><br></pre></td></tr></table></figure>

<h4 id="3-åˆ›å»ºåŸºäºpython3-8è™šæ‹Ÿç¯å¢ƒçš„pyspark"><a href="#3-åˆ›å»ºåŸºäºpython3-8è™šæ‹Ÿç¯å¢ƒçš„pyspark" class="headerlink" title="3.åˆ›å»ºåŸºäºpython3.8è™šæ‹Ÿç¯å¢ƒçš„pyspark"></a>3.åˆ›å»ºåŸºäºpython3.8è™šæ‹Ÿç¯å¢ƒçš„pyspark</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n pyspark python=3.8 </span><br></pre></td></tr></table></figure>

<h4 id="4-åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…"><a href="#4-åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…" class="headerlink" title="4.åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…"></a>4.åˆ‡æ¢åˆ°pysparkè™šæ‹Ÿç¯å¢ƒå†…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda activate pyspark </span><br><span class="line"></span><br><span class="line">(base) [root@node2 ~]# conda activate pyspark  </span><br><span class="line">(pyspark) [root@node2 ~]# </span><br></pre></td></tr></table></figure>

<h4 id="5-åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…"><a href="#5-åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…" class="headerlink" title="5.åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…"></a>5.åœ¨è™šæ‹Ÿç¯å¢ƒå†…å®‰è£…æ‰€éœ€åŒ…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyhive pyspark jieba -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<h4 id="6-é…ç½®ç›¸å…³æ–‡ä»¶"><a href="#6-é…ç½®ç›¸å…³æ–‡ä»¶" class="headerlink" title="6.é…ç½®ç›¸å…³æ–‡ä»¶"></a>6.é…ç½®ç›¸å…³æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/spark/conf</span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šæ­¤æ“ä½œåœ¨node1ä¸Šæ‰§è¡Œ</p>
<ul>
<li><p>å°†æ–‡ä»¶ workers.template æ”¹åä¸º workersï¼Œå¹¶é…ç½®æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mv workers.template workers</span><br><span class="line"></span><br><span class="line">vim workers</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">localhoståˆ é™¤ï¼Œå†…å®¹è¿½åŠ æ–‡æœ«ï¼š</span></span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line">node3</span><br></pre></td></tr></table></figure></li>
<li><p>å°†æ–‡ä»¶ spark-env.sh.template æ”¹åä¸º spark-env.shï¼Œå¹¶é…ç½®æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mv spark-env.sh.template spark-env.sh</span><br><span class="line"></span><br><span class="line">vim spark-env.sh</span><br><span class="line"></span><br><span class="line">æ–‡æœ«è¿½åŠ å†…å®¹ï¼š</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># è®¾ç½®JAVAå®‰è£…ç›®å½•</span></span></span><br><span class="line">JAVA_HOME=/export/server/jdk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># HADOOPè½¯ä»¶é…ç½®æ–‡ä»¶ç›®å½•ï¼Œè¯»å–HDFSä¸Šæ–‡ä»¶å’Œè¿è¡ŒYARNé›†ç¾¤</span></span></span><br><span class="line">HADOOP_CONF_DIR=/export/server/hadoop/etc/hadoop</span><br><span class="line">YARN_CONF_DIR=/export/server/hadoop/etc/hadoop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># æŒ‡å®šsparkè€å¤§Masterçš„IPå’Œæäº¤ä»»åŠ¡çš„é€šä¿¡ç«¯å£</span></span></span><br><span class="line">export SPARK_MASTER_HOST=node1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘ŠçŸ¥sparkmasterçš„é€šè®¯ç«¯å£</span></span><br><span class="line">export SPARK_MASTER_PORT=7077</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘ŠçŸ¥spark masterçš„ webuiç«¯å£</span></span><br><span class="line">SPARK_MASTER_WEBUI_PORT=8080</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">worker cpuå¯ç”¨æ ¸æ•°</span></span><br><span class="line">SPARK_WORKER_CORES=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">workerå¯ç”¨å†…å­˜</span></span><br><span class="line">SPARK_WORKER_MEMORY=1g</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">workerçš„å·¥ä½œé€šè®¯åœ°å€</span></span><br><span class="line">SPARK_WORKER_PORT=7078</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">workerçš„ webuiåœ°å€</span></span><br><span class="line">SPARK_WORKER_WEBUI_PORT=8081</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># è®¾ç½®å†å²æœåŠ¡å™¨ ------å°†sparkä¸Šè¿è¡Œçš„æ—¥å¿—è®°å½•å‚¨å­˜åˆ°hdfsä¸­çš„sparklogä¸­</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®çš„æ„æ€æ˜¯  å°†sparkç¨‹åºè¿è¡Œçš„å†å²æ—¥å¿— å­˜åˆ°hdfsçš„/sparklogæ–‡ä»¶å¤¹ä¸­</span></span><br><span class="line">SPARK_HISTORY_OPTS=&quot;-Dspark.history.fs.logDirectory=hdfs://node1:8020/sparklog/ -Dspark.history.fs.cleaner.enabled=true&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ­¤åˆ»æ‰“å¼€ä¸€ä¸ªæ–°çš„shellçª—å£ï¼Œç„¶åå¼€å¯Hadoop</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-all.sh</span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šä¸å»ºè®® åœ¨å¯åŠ¨å•ç‹¬é›†ç¾¤æ—¶ éœ€è¦æ‰§è¡Œå•ç‹¬å¯¹åº”çš„.shæ–‡ä»¶</p>
</li>
<li><p>åœ¨HDFSä¸Šåˆ›å»ºå¯å­˜æ”¾å†å²æ—¥å¿—çš„æ–‡ä»¶å¤¹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /sparklog</span><br><span class="line"></span><br><span class="line">hadoop fs -chmod 777 /sparklog</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å°† spark-defaults.conf.templateæ”¹ä¸º spark-defaults.conf ï¼Œå¹¶é…ç½®æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mv spark-defaults.conf.template spark-defaults.conf</span><br><span class="line"></span><br><span class="line">vim spark-defaults.conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼€å¯sparkçš„æ—¥æœŸè®°å½•åŠŸèƒ½</span></span><br><span class="line">spark.eventLog.enabled 	true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®sparkæ—¥å¿—è®°å½•çš„è·¯å¾„</span></span><br><span class="line">spark.eventLog.dir	 hdfs://node1:8020/sparklog/ </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®sparkæ—¥å¿—æ˜¯å¦å¯åŠ¨å‹ç¼©</span></span><br><span class="line">spark.eventLog.compress 	true</span><br></pre></td></tr></table></figure></li>
<li><p>å°†og4j.properties.templateæ”¹ä¸ºlog4j.propertiesï¼Œå¹¶é…ç½®æ–‡ä»¶ (ä¿®æ”¹ç¬¬åä¹è¡Œï¼šå°†INFOæ”¹ä¸ºWARN)</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mv log4j.properties.template log4j.properties</span><br><span class="line"></span><br><span class="line">vim log4j.properties</span><br><span class="line"></span><br><span class="line"> 18 # Set everything to be logged to the console</span><br><span class="line"> 19 log4j.rootCategory=WARN, console</span><br><span class="line"> 20 log4j.appender.console=org.apache.log4j.ConsoleAppender</span><br><span class="line"> 21 log4j.appender.console.target=System.err</span><br><span class="line"> 22 log4j.appender.console.layout=org.apache.log4j.PatternLayout</span><br><span class="line"> 23 log4j.appender.console.layout.ConversionPattern=%d&#123;yy/MM/dd HH:mm:ss&#125; %p %c&#123;1&#125;: %m%n</span><br></pre></td></tr></table></figure>

<p>**æ­¤æ­¥éª¤çš„ç›®çš„æ˜¯è®©è¾“å‡ºçš„æ—¥å¿—ä¹‹è¾“å‡ºè­¦å‘Šå’Œé”™è¯¯çš„æ—¥å¿— **   <em>INFOè¡¨ç¤ºè¾“å‡ºæ‰€æœ‰æ—¥å¿—</em></p>
<h4 id="7-å°†Sparkæ–‡ä»¶å¤¹å…¨éƒ¨ä¼ è¾“åˆ°node2-node3ä¸Š"><a href="#7-å°†Sparkæ–‡ä»¶å¤¹å…¨éƒ¨ä¼ è¾“åˆ°node2-node3ä¸Š" class="headerlink" title="7.å°†Sparkæ–‡ä»¶å¤¹å…¨éƒ¨ä¼ è¾“åˆ°node2 node3ä¸Š"></a>7.å°†Sparkæ–‡ä»¶å¤¹å…¨éƒ¨ä¼ è¾“åˆ°node2 node3ä¸Š</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/spark-3.2.0-bin-hadoop3.2/ node2:$PWD</span><br><span class="line">scp -r /export/server/spark-3.2.0-bin-hadoop3.2/ node3:$PWD</span><br></pre></td></tr></table></figure>

<h4 id="8-åˆ›å»ºè½¯è¿æ¥"><a href="#8-åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="8.åˆ›å»ºè½¯è¿æ¥"></a>8.åˆ›å»ºè½¯è¿æ¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /export/server/spark-3.2.0-bin-hadoop3.2 /export/server/spark</span><br></pre></td></tr></table></figure>

<h4 id="9-é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡"><a href="#9-é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡" class="headerlink" title="9.é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡"></a>9.é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<p>âš ï¸ï¼šå› ä¸ºåœ¨æ­¥éª¤2ä¸­å·²ç»å°†node1ä¸­çš„å…¨å±€ç¯å¢ƒå˜é‡ä¼ è¾“åˆ°node2 node3 ä¸­ï¼Œæ‰€ä»¥æ‰§è¡Œå³å¯</p>
<h4 id="10-å¯åŠ¨history-serveræœåŠ¡"><a href="#10-å¯åŠ¨history-serveræœåŠ¡" class="headerlink" title="10.å¯åŠ¨history-serveræœåŠ¡"></a>10.å¯åŠ¨history-serveræœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/spark/sbin </span><br><span class="line"></span><br><span class="line">./start-history-server.sh</span><br><span class="line"></span><br><span class="line">(base)[root@node1 sbin]# jps</span><br><span class="line">7393 HistoryServer</span><br><span class="line">6034 NameNode</span><br><span class="line">7012 NodeManager</span><br><span class="line">2603 DataNode</span><br><span class="line">6699 ResourceManager</span><br><span class="line">4911 QuorumPeerMain</span><br><span class="line">7439 Jps</span><br></pre></td></tr></table></figure>

<h4 id="11-æŸ¥çœ‹-webUI"><a href="#11-æŸ¥çœ‹-webUI" class="headerlink" title="11.æŸ¥çœ‹ webUI"></a>11.æŸ¥çœ‹ webUI</h4><p><figure class="figure"><img src="/2022/05/22/Spark-local-stand-alone%E9%85%8D%E7%BD%AE/5.png" alt="5.png"><figcaption class="figure__caption">5.png</figcaption></figure></p>
<h4 id="12-å¯åŠ¨-å…³é—­spark-çš„ä¸»ä»èŠ‚ç‚¹-master-workerè¿›ç¨‹æŒ‡ä»¤"><a href="#12-å¯åŠ¨-å…³é—­spark-çš„ä¸»ä»èŠ‚ç‚¹-master-workerè¿›ç¨‹æŒ‡ä»¤" class="headerlink" title="12.å¯åŠ¨/å…³é—­spark çš„ä¸»ä»èŠ‚ç‚¹ master workerè¿›ç¨‹æŒ‡ä»¤"></a>12.å¯åŠ¨/å…³é—­spark çš„ä¸»ä»èŠ‚ç‚¹ master workerè¿›ç¨‹æŒ‡ä»¤</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sbin/start-all.sh 			#å¯åŠ¨å…¨éƒ¨çš„masterå’Œworke    åœ¨node1ä¸Šæ‰§è¡Œåˆ™é»˜è®¤node1ä¸ºmaster</span><br><span class="line">sbin/start-master.sh		#åªå¯åŠ¨æ‰§è¡Œä¸»æœºä¸Šmaster</span><br><span class="line">sbin/start-worker.sh		#åªå¯åŠ¨æ‰§è¡Œä¸»æœºä¸Šworker</span><br><span class="line">sbin/stop-all.sh				#åœæ­¢æ‰€æœ‰</span><br><span class="line">sbin/stop-master.sh			#åªåœæ­¢æ‰§è¡Œä¸»æœºä¸Šçš„master</span><br><span class="line">sbin/stop-worker.sh			#åªåœæ­¢æ‰§è¡Œä¸»æœºä¸Šçš„worker</span><br></pre></td></tr></table></figure>

<h4 id="13-æŸ¥çœ‹webUI"><a href="#13-æŸ¥çœ‹webUI" class="headerlink" title="13. æŸ¥çœ‹webUI"></a>13. æŸ¥çœ‹webUI</h4><p><figure class="figure"><img src="/2022/05/22/Spark-local-stand-alone%E9%85%8D%E7%BD%AE/6.png" alt="6.png"><figcaption class="figure__caption">6.png</figcaption></figure></p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/05/22/Spark-HA-Yarné…ç½®/">Spark HA &amp; Yarné…ç½®</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-22</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/Spark-HA-Yarn%E9%85%8D%E7%BD%AE/" rel="tag">Spark HA & Yarné…ç½®</a>
			</span>
		
	</div>

	

	
		<h5 id="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1"><a href="#åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok-pro-macOS-Monterey-12-3-1" class="headerlink" title="åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1"></a><em>åšä¸»çš„æœ¬åœ°ç¯å¢ƒä¸ºï¼šï£¿Macbok pro , macOS Monterey 12.3.1</em></h5><hr>
<h3 id="ä¸€ã€Spark-Standalone-HAæ¨¡å¼"><a href="#ä¸€ã€Spark-Standalone-HAæ¨¡å¼" class="headerlink" title="ä¸€ã€Spark-Standalone-HAæ¨¡å¼"></a>ä¸€ã€Spark-Standalone-HAæ¨¡å¼</h3><p><em><strong>Standaloneé›†ç¾¤æ˜¯Master-Slavesæ¶æ„çš„é›†ç¾¤æ¨¡å¼ï¼Œå’Œå¤§éƒ¨åˆ†çš„Master-Slavesç»“æ„é›†ç¾¤ä¸€æ ·ï¼Œå­˜åœ¨ç€Masterå•ç‚¹æ•…éšœçš„é—®é¢˜ã€‚ å¦‚ä½•è§£å†³è¿™ä¸ªå•ç‚¹æ•…éšœçš„é—®é¢˜ï¼ŒSparkæä¾›äº†ä¸¤ç§æ–¹æ¡ˆï¼š1.åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„å•ç‚¹æ¢å¤(Single-Node Recovery with Local File System)â€“åªèƒ½ç”¨äºå¼€å‘æˆ–æµ‹è¯•ç¯å¢ƒã€‚2.åŸºäºzookeeperçš„Standby Masters(Standby Masters with ZooKeeper)â€“å¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</strong></em></p>
<p>âš ï¸ï¼šä¸»æœºä¸­çš„zookeeperçš„ç‰ˆæœ¬éœ€è¦å–sparkç‰ˆæœ¬å…¼å®¹ï¼Œå¦åˆ™ä¼šå‡ºç°é”™è¯¯ã€‚è‹¥ä¸å…¼å®¹åˆ™é‡æ–°ä¸‹è½½ä¸ä¹‹å…¼å®¹çš„zookeeperï¼Œå¹¶åˆ é™¤ä¹‹å‰çš„è½¯è¿æ¥ï¼Œå†é‡æ–°é…ç½®ï¼Œæœ€ååˆ†é…ç»™node2 node3å³å¯ã€‚</p>
<h4 id="1-é…ç½®ä¿®æ”¹-spark-env-sh-æ–‡ä»¶å†…å®¹"><a href="#1-é…ç½®ä¿®æ”¹-spark-env-sh-æ–‡ä»¶å†…å®¹" class="headerlink" title="1.é…ç½®ä¿®æ”¹ spark-env.sh æ–‡ä»¶å†…å®¹"></a>1.é…ç½®ä¿®æ”¹ spark-env.sh æ–‡ä»¶å†…å®¹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/spark/conf </span><br><span class="line"></span><br><span class="line">vim spark-env.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#ä¸º 83 è¡Œå†…å®¹åŠ ä¸Šæ³¨é‡Š</span></span></span><br><span class="line">82 # å‘ŠçŸ¥Sparkçš„masterè¿è¡Œåœ¨å“ªä¸ªæœºå™¨ä¸Š</span><br><span class="line">83 # export SPARK_MASTER_HOST=master</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#æ–‡æœ«å¡«å†™ä»¥ä¸‹å†…å®¹</span></span></span><br><span class="line">105 SPARK_DAEMON_JAVA_OPTS=&quot;-Dspark.deploy.recoveryMode=ZOOKEEPER -Dspark.deploy    .zookeeper.url=node1:2181,node2:2181,node3:2181 -Dspark.deploy.zookeeper.dir    =/spark-ha&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">spark.deploy.recoveryMode æŒ‡å®šHAæ¨¡å¼ åŸºäºZookeeperå®ç°</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šZookeeperçš„è¿æ¥åœ°å€</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šåœ¨Zookeeperä¸­æ³¨å†Œä¸´æ—¶èŠ‚ç‚¹çš„è·¯å¾„</span></span><br></pre></td></tr></table></figure>

<h4 id="2-å°†spark-env-shä¼ è¾“åˆ°node2-node3ä¸Š"><a href="#2-å°†spark-env-shä¼ è¾“åˆ°node2-node3ä¸Š" class="headerlink" title="2.å°†spark-env.shä¼ è¾“åˆ°node2 node3ä¸Š"></a>2.å°†spark-env.shä¼ è¾“åˆ°node2 node3ä¸Š</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp spark-env.sh node2:/export/server/spark/conf/</span><br><span class="line"></span><br><span class="line">scp spark-env.sh node3:/export/server/spark/conf/</span><br></pre></td></tr></table></figure>

<h4 id="3-å¯åŠ¨é›†ç¾¤"><a href="#3-å¯åŠ¨é›†ç¾¤" class="headerlink" title="3.å¯åŠ¨é›†ç¾¤"></a>3.å¯åŠ¨é›†ç¾¤</h4><p>âš ï¸ï¼šåœ¨å¯åŠ¨é›†ç¾¤å‰éœ€ç¡®ä¿ç›¸å…³zookeeperå’ŒHadoopå‡å·²å¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#é¦–å…ˆåœ¨node1ä¸Šå¯åŠ¨master å’Œæ‰€æœ‰ä¸»æœºä¸Šçš„worker</span></span></span><br><span class="line">cd /export/server/spark/sbin</span><br><span class="line">./start-all.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#å†åˆ°node2ä¸Šå¯åŠ¨ node2ä¸Šçš„masterä½œä¸ºå¤‡ç”¨master</span></span></span><br><span class="line">cd /export/server/spark/sbin</span><br><span class="line">./start-master.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 sbin]# jps</span><br><span class="line">7393 HistoryServer</span><br><span class="line">6034 NameNode</span><br><span class="line">7012 NodeManager</span><br><span class="line">9749 Worker</span><br><span class="line">9639 Master</span><br><span class="line">2603 DataNode</span><br><span class="line">6699 ResourceManager</span><br><span class="line">9805 Jps</span><br><span class="line">4911 QuorumPeerMain</span><br><span class="line"></span><br><span class="line">(base) [root@node2 sbin]# jps</span><br><span class="line">2736 QuorumPeerMain</span><br><span class="line">4130 Jps</span><br><span class="line">4071 Master</span><br><span class="line">3480 NodeManager</span><br><span class="line">3386 SecondaryNameNode</span><br><span class="line">3263 DataNode</span><br><span class="line">3711 Worker</span><br></pre></td></tr></table></figure>

<h4 id="4-è®¿é—®WebUI"><a href="#4-è®¿é—®WebUI" class="headerlink" title="4.è®¿é—®WebUI"></a>4.è®¿é—®WebUI</h4><p>![markdown](/Users/mojiyang/Desktop/bin/æˆªå›¾åº“/11.18/æˆªå±2022-05-28 ä¸Šåˆ1.38.42.png)</p>
<p>![markdown](/Users/mojiyang/Desktop/bin/æˆªå›¾åº“/11.18/æˆªå±2022-05-28 ä¸Šåˆ1.40.58.png)</p>
<h4 id="5-ä¸ºéªŒè¯åŠŸèƒ½ï¼Œæˆ‘ä»¬killæ‰node1ä¸­masterçš„è¿›ç¨‹å·ï¼Œæ¥æ¨¡æ‹Ÿnode1ä½œä¸ºæˆ‘ä»¬æ­£è¿›è¡Œæ“ä½œçš„ä¸»æœºçªç„¶å®•æœº"><a href="#5-ä¸ºéªŒè¯åŠŸèƒ½ï¼Œæˆ‘ä»¬killæ‰node1ä¸­masterçš„è¿›ç¨‹å·ï¼Œæ¥æ¨¡æ‹Ÿnode1ä½œä¸ºæˆ‘ä»¬æ­£è¿›è¡Œæ“ä½œçš„ä¸»æœºçªç„¶å®•æœº" class="headerlink" title="5.ä¸ºéªŒè¯åŠŸèƒ½ï¼Œæˆ‘ä»¬killæ‰node1ä¸­masterçš„è¿›ç¨‹å·ï¼Œæ¥æ¨¡æ‹Ÿnode1ä½œä¸ºæˆ‘ä»¬æ­£è¿›è¡Œæ“ä½œçš„ä¸»æœºçªç„¶å®•æœº"></a>5.ä¸ºéªŒè¯åŠŸèƒ½ï¼Œæˆ‘ä»¬killæ‰node1ä¸­masterçš„è¿›ç¨‹å·ï¼Œæ¥æ¨¡æ‹Ÿnode1ä½œä¸ºæˆ‘ä»¬æ­£è¿›è¡Œæ“ä½œçš„ä¸»æœºçªç„¶å®•æœº</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# kill -9 9639</span><br><span class="line">(base) [root@node1 ~]# jps</span><br><span class="line">7393 HistoryServer</span><br><span class="line">6034 NameNode</span><br><span class="line">7012 NodeManager</span><br><span class="line">9940 Jps</span><br><span class="line">9749 Worker</span><br><span class="line">2603 DataNode</span><br><span class="line">6699 ResourceManager</span><br><span class="line">4911 QuorumPeerMain</span><br></pre></td></tr></table></figure>

<h4 id="6-æ­¤åˆ»æˆ‘ä»¬è®¿é—®å¤‡ç”¨masterï¼ˆnode2ï¼‰çš„WebUI"><a href="#6-æ­¤åˆ»æˆ‘ä»¬è®¿é—®å¤‡ç”¨masterï¼ˆnode2ï¼‰çš„WebUI" class="headerlink" title="6.æ­¤åˆ»æˆ‘ä»¬è®¿é—®å¤‡ç”¨masterï¼ˆnode2ï¼‰çš„WebUI"></a>6.æ­¤åˆ»æˆ‘ä»¬è®¿é—®å¤‡ç”¨masterï¼ˆnode2ï¼‰çš„WebUI</h4><p>![markdown](/Users/mojiyang/Desktop/bin/æˆªå›¾åº“/11.18/æˆªå±2022-05-28 ä¸Šåˆ1.47.23.png)</p>
<blockquote>
<p>ç”±æ­¤å¯å¾—å‡ºç»“è®º</p>
<blockquote>
<p>åœ¨Spark-Standalone-HAæ¨¡å¼ä¸‹ï¼Œä¸»å¤‡åˆ‡æ¢ä¸ä¼šå‡ºç°ä»»ä½•é”™è¯¯ï¼Œåœ¨å…¶ä¸­çš„ä¸€ä¸ªmasterå®•æœºåï¼Œä¹Ÿä¼šæœ‰å¤‡ç”¨çš„masterç»§ç»­å·¥ä½œã€‚</p>
</blockquote>
</blockquote>
<hr>
<h3 id="äºŒã€Spark-On-YARNæ¨¡å¼"><a href="#äºŒã€Spark-On-YARNæ¨¡å¼" class="headerlink" title="äºŒã€Spark On YARNæ¨¡å¼"></a>äºŒã€Spark On YARNæ¨¡å¼</h3><p>*** spark on yarnæ¶æ„æœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†ä¸ºYarn-clientæ¨¡å¼å’ŒYarn-clusteræ¨¡å¼***</p>
<h4 id="1-é…ç½®spark-env-sh"><a href="#1-é…ç½®spark-env-sh" class="headerlink" title="1. é…ç½®spark-env.sh"></a>1. é…ç½®spark-env.sh</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#æ·»åŠ </span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">HADOOPè½¯ä»¶é…ç½®æ–‡ä»¶ç›®å½•ï¼Œè¯»å–HDFSä¸Šæ–‡ä»¶å’Œè¿è¡ŒYARNé›†ç¾¤</span></span><br><span class="line">HADOOP_CONF_DIR=/export/server/hadoop/etc/hadoop</span><br><span class="line">YARN_CONF_DIR=/export/server/hadoop/etc/hadoop</span><br></pre></td></tr></table></figure>

<h4 id="2-å¯åŠ¨pyspark-â€“master-yarn-å¹¶æµ‹è¯•"><a href="#2-å¯åŠ¨pyspark-â€“master-yarn-å¹¶æµ‹è¯•" class="headerlink" title="2.å¯åŠ¨pyspark â€“master yarn,å¹¶æµ‹è¯•"></a>2.å¯åŠ¨pyspark â€“master yarn,å¹¶æµ‹è¯•</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/spark/bin</span><br><span class="line"></span><br><span class="line">Python 3.8.12 (default, Oct 12 2021, 13:49:34) </span><br><span class="line">[GCC 7.5.0] :: Anaconda, Inc. on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"></span><br><span class="line">22/05/28 02:06:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">22/05/28 02:06:39 WARN Client: Neither spark.yarn.jars nor spark.yarn.archive is set, falling back to uploading libraries under SPARK_HOME.</span><br><span class="line">Welcome to</span><br><span class="line">      ____              __</span><br><span class="line">     / __/__  ___ _____/ /__</span><br><span class="line">    _\ \/ _ \/ _ `/ __/  &#x27;_/</span><br><span class="line">   /__ / .__/\_,_/_/ /_/\_\   version 3.2.0</span><br><span class="line">      /_/</span><br><span class="line"></span><br><span class="line">Using Python version 3.8.12 (default, Oct 12 2021 13:49:34)</span><br><span class="line">Spark context Web UI available at http://node1:4040</span><br><span class="line">Spark context available as &#x27;sc&#x27; (master = yarn, app id = application_1653500749142_0001).</span><br><span class="line">SparkSession available as &#x27;spark&#x27;.</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; sc.parallelize([1,2,3,4,5]).map(lambda x: x*10).collect()</span></span><br><span class="line">[10, 20, 30, 40, 50] </span><br></pre></td></tr></table></figure>

<p>è®¿é—®node1:8088æŸ¥çœ‹ï¼š</p>
<p>![markdown](/Users/mojiyang/Desktop/bin/æˆªå›¾åº“/11.18/æˆªå±2022-05-28 ä¸Šåˆ2.14.02.png)</p>
<h4 id="4-éªŒè¯clientæ¨¡å¼"><a href="#4-éªŒè¯clientæ¨¡å¼" class="headerlink" title="4.éªŒè¯clientæ¨¡å¼"></a>4.éªŒè¯clientæ¨¡å¼</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# /export/server/spark/bin/spark-submit --master yarn --deploy-mode client --driver-memory 512m --executor-memory 512m --num-executors 3 --total-executor-cores 3 /export/server/spark/examples/src/main/python/pi.py 3</span><br><span class="line"></span><br><span class="line">22/05/28 02:22:18 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">22/05/28 02:22:19 WARN Utils: Service &#x27;SparkUI&#x27; could not bind on port 4040. Attempting port 4041.</span><br><span class="line">22/05/28 02:22:20 WARN Client: Neither spark.yarn.jars nor spark.yarn.archive is set, falling back to uploading libraries under SPARK_HOME.</span><br><span class="line">Pi is roughly 3.146480</span><br></pre></td></tr></table></figure>

<h4 id="5-éªŒè¯clusteræ¨¡å¼"><a href="#5-éªŒè¯clusteræ¨¡å¼" class="headerlink" title="5.éªŒè¯clusteræ¨¡å¼"></a>5.éªŒè¯clusteræ¨¡å¼</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(base) [root@node1 ~]# /export/server/spark/bin/spark-submit --master yarn --deploy-mode cluster --driver-memory 512m --executor-memory 512m --num-executors 3 --total-executor-cores 3 /export/server/spark/examples/src/main/python/pi.py 3</span><br><span class="line"></span><br><span class="line">22/05/28 02:24:00 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">22/05/28 02:24:01 WARN Client: Neither spark.yarn.jars nor spark.yarn.archive is set, falling back to uploading libraries under SPARK_HOME.</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ï¼šä¸ºä»€ä¹ˆä¸¤è€…çš„è¾“å‡ºä¸€ä¸ªæœ‰ç»“æœä¸€ä¸ªæ²¡æœ‰ç»“æœï¼Ÿ</p>
<blockquote>
<p>æ˜¯å› ä¸ºclintï¼ˆå®¢æˆ·ç«¯ï¼‰æ¨¡å¼å’Œclusteræ¨¡å¼æ˜¯æœ‰åŒºåˆ«çš„ï¼š</p>
<p>clientæ¨¡å¼ï¼šDriverè¿è¡Œåœ¨Clientä¸Šï¼Œåº”ç”¨ç¨‹åºè¿è¡Œç»“æœä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºï¼Œæ‰€æœ‰é€‚åˆè¿è¡Œç»“æœæœ‰è¾“å‡ºçš„åº”ç”¨ç¨‹åºï¼ˆå¦‚spark-shellï¼‰</p>
<p>clusteræ¨¡å¼ï¼šDriverç¨‹åºåœ¨YARNä¸­è¿è¡Œï¼ŒDriveræ‰€åœ¨çš„æœºå™¨æ˜¯éšæœºçš„ï¼Œåº”ç”¨çš„è¿è¡Œç»“æœä¸èƒ½åœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºåªèƒ½é€šè¿‡yarnæŸ¥çœ‹ï¼Œæ‰€ä»¥æœ€å¥½è¿è¡Œé‚£äº›å°†ç»“æœæœ€ç»ˆä¿å­˜åœ¨å¤–éƒ¨å­˜å‚¨ä»‹è´¨ï¼ˆå¦‚HDFSã€Redisã€Mysqlï¼‰è€Œéstdoutè¾“å‡ºçš„åº”ç”¨ç¨‹åºï¼Œå®¢æˆ·ç«¯çš„ç»ˆç«¯æ˜¾ç¤ºçš„ä»…æ˜¯ä½œä¸ºYARNçš„jobçš„ç®€å•è¿è¡ŒçŠ¶å†µã€‚</p>
</blockquote>
</blockquote>

	

	

</article>




	<article>
	
		<h1><a href="/2022/05/15/hello-world/">Hello World</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-05-15</span><br />
		
		
	</div>

	

	
		<p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/03/10/githubåŸºç¡€/">GithubåŸºç¡€</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-03-10</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/%E6%9A%82%E6%97%B6%E5%81%9C%E6%9B%B4/" rel="tag">æš‚æ—¶åœæ›´</a>
			</span>
		
	</div>

	

	
		<h1 id="Git-åŸºç¡€æ“ä½œ-ï¼ˆ4-1ï¼‰"><a href="#Git-åŸºç¡€æ“ä½œ-ï¼ˆ4-1ï¼‰" class="headerlink" title="Git åŸºç¡€æ“ä½œ ï¼ˆ4-1ï¼‰"></a><strong>Git åŸºç¡€æ“ä½œ ï¼ˆ4-1ï¼‰</strong></h1><ul>
<li><h3 id="git-init-â€”â€”â€“åˆå§‹åŒ–ä»“åº“"><a href="#git-init-â€”â€”â€“åˆå§‹åŒ–ä»“åº“" class="headerlink" title="git init â€”â€”â€“åˆå§‹åŒ–ä»“åº“"></a>git init â€”â€”â€“åˆå§‹åŒ–ä»“åº“</h3></li>
</ul>
<p>åœ¨ä½¿ç”¨Gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå¿…é¡»å…ˆå‡ºå®è¯ä»“åº“ã€‚å‡ºå®è¯ä¹‹å‰å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•ï¼ˆgit-tutorialï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir git-tutorial</span><br><span class="line">$ cd git-tutorial</span><br><span class="line">$ git init</span><br><span class="line">hint: Using &#x27;master&#x27; as the name for the initial branch. This default branch name</span><br><span class="line">hint: is subject to change. To configure the initial branch name to use in all</span><br><span class="line">hint: of your new repositories, which will suppress this warning, call:</span><br><span class="line">hint: </span><br><span class="line">hint: 	git config --global init.defaultBranch &lt;name&gt;</span><br><span class="line">hint: </span><br><span class="line">hint: Names commonly chosen instead of &#x27;master&#x27; are &#x27;main&#x27;, &#x27;trunk&#x27; and</span><br><span class="line">hint: &#x27;development&#x27;. The just-created branch can be renamed via this command:</span><br><span class="line">hint: </span><br><span class="line">hint: 	git branch -m &lt;name&gt; </span><br></pre></td></tr></table></figure>

<p>ä»£ç æ‰§è¡Œæˆåï¼Œç›®å½•ä¼šç”Ÿæˆ.gitç›®å½•ï¼ˆå‚¨å­˜ç®¡ç†å½“å‰ç›®å½•å†…å®¹æ‰€éœ€çš„æ•°æ®ä»“åº“ï¼‰</p>
<ul>
<li><h3 id="git-status-â€”â€”-æŸ¥çœ‹ä»“åº“çŠ¶æ€"><a href="#git-status-â€”â€”-æŸ¥çœ‹ä»“åº“çŠ¶æ€" class="headerlink" title="git status â€”â€”-æŸ¥çœ‹ä»“åº“çŠ¶æ€"></a>git status â€”â€”-æŸ¥çœ‹ä»“åº“çŠ¶æ€</h3></li>
</ul>
<h5 id="git-statuså‘½ä»¤ç”¨äºæ˜¾ç¤ºGitä»“åº“çš„çŠ¶æ€ã€‚"><a href="#git-statuså‘½ä»¤ç”¨äºæ˜¾ç¤ºGitä»“åº“çš„çŠ¶æ€ã€‚" class="headerlink" title="git statuså‘½ä»¤ç”¨äºæ˜¾ç¤ºGitä»“åº“çš„çŠ¶æ€ã€‚"></a><strong>git statuså‘½ä»¤ç”¨äºæ˜¾ç¤ºGitä»“åº“çš„çŠ¶æ€ã€‚</strong></h5><p>å› å·¥ä½œæ ‘å’Œä»“åº“è¢«æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼ŒçŠ¶æ€ä¼šä¸æ–­å‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥éœ€è¦git status å‘½ä»¤æŸ¥çœ‹å½“å‰çŠ¶æ€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git ststua</span><br><span class="line">On branch master        #å½“å‰å¤„äºmasteråˆ†æ”¯</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">nothing to commit (create/copy files and use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure>

<p>æ‰€è°“æäº¤ï¼ˆcommitï¼‰ï¼šæ˜¯æŒ‡â€œ è®°å½•å·¥ä½œæ•°ä¸­æ‰€æœ‰æ–‡ä»¶çš„å½“å‰çŠ¶æ€ â€</p>
<p>å› ä¸ºæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ“ä½œæ²¡æœ‰å¯æäº¤å†…å®¹ï¼ˆæ²¡æœ‰è®°å½•ä»»ä½•æ–‡ä»¶çš„ä»»ä½•çŠ¶æ€ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å»ºç«‹README.mdæ–‡ä»¶ä½œä¸ºå¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ touch README.md </span><br><span class="line">$ git status </span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">	README.md</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°åœ¨Untracked filesä¸­æ˜¾ç¤ºäº†README.mdæ–‡ä»¶ã€‚ä»¥æ­¤ç±»æ¨åªè¦å¯¹Gitè¿›è¡Œæ“ä½œ <strong>git status</strong>æ˜¾ç¤ºçš„ç»“æœå°±ä¼šå‘å˜åŒ–ã€‚</p>
<ul>
<li><h3 id="git-add-â€”â€”â€”å…ˆæš‚æ—¶åŒºä¸­æ·»åŠ æ–‡ä»¶"><a href="#git-add-â€”â€”â€”å…ˆæš‚æ—¶åŒºä¸­æ·»åŠ æ–‡ä»¶" class="headerlink" title="git add â€”â€”â€”å…ˆæš‚æ—¶åŒºä¸­æ·»åŠ æ–‡ä»¶"></a>git add â€”â€”â€”å…ˆæš‚æ—¶åŒºä¸­æ·»åŠ æ–‡ä»¶</h3></li>
</ul>
<p> å¦‚æœä»…ä»…ç”¨Gitä»“åº“çš„å·¥ä½œæ ‘åˆ›å»ºäº†æ–‡ä»¶ï¼Œé‚£ä¹ˆè¯¥æ–‡ä»¶å¹¶ä¸ä¼šè¢«è®°å…¥gitä»“åº“çš„ç‰ˆæœ¬ç®¡ç†å¯¹è±¡ä¸­ã€‚æ‰€ä»¥å½“ä½¿ç”¨<strong>git status</strong>æ—¶ä¼šæ˜¾ç¤ºåœ¨Untracked filesä¸­ã€‚</p>
<p>è‹¥æƒ³å°†å…¶æˆä¸ºGitä»“åº“çš„ç®¡ç†å¯¹è±¡ï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨ <strong>git add</strong>å‘½ä»¤å°†å…¶åŠ å…¥æš‚å­˜åŒºï¼ˆstage or indexï¼‰ ==æš‚å­˜åŒºæ˜¯æäº¤ä¹‹å‰çš„ä¸€ä¸ªä¸´æ—¶åŒºåŸŸ==</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git add README.md </span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line">	new file:   README.md</span><br></pre></td></tr></table></figure>

<p>å°†README.mdåŠ å…¥æš‚å­˜åŒºåï¼Œ<strong>git status</strong>å¯çœ‹å‡ºREADME.mdæ–‡ä»¶åœ¨changes to be committed ä¸­ã€‚</p>
<ul>
<li><h3 id="git-commit-â€”â€”â€”ä¿å­˜ä»“åº“çš„å†å²è®°å½•"><a href="#git-commit-â€”â€”â€”ä¿å­˜ä»“åº“çš„å†å²è®°å½•" class="headerlink" title="git commit â€”â€”â€”ä¿å­˜ä»“åº“çš„å†å²è®°å½•"></a>git commit â€”â€”â€”ä¿å­˜ä»“åº“çš„å†å²è®°å½•</h3><p><strong>git commit</strong>å‘½ä»¤å¯å°†å½“å‰å‡ºå­˜åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶ä¿å­˜åˆ°ä»“åº“çš„å†å²è®°å½•ä¸­ã€‚é€šè¿‡è¿™äº›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ä½œæ ‘ä¸­ç¦æºæ–‡ä»¶ã€‚</p>
<ul>
<li><p>è®°è¿°ä¸€è¡Œæäº¤ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;First commit&quot;</span><br><span class="line">[master (root-commit) 335488e] First commit</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 README.md</span><br></pre></td></tr></table></figure>

<p>-måçš„â€œFirst commitâ€ æ˜¯å¯¹æäº¤çš„æ¦‚è¿°.</p>
</li>
<li><p>è®°è¿°è¯¦ç»†æäº¤ä¿¡æ¯</p>
<p>è‹¥æƒ³è®°å½•æ›´è¯¦ç»†ï¼Œåˆ™ä¸åŠ  -m,æ‰§è¡Œåç›´æ¥ç¼–è¾‘å³å¯</p>
<p>â— ç¬¬ä¸€è¡Œï¼šç”¨ä¸€è¡Œæ–‡å­—ç®€è¿°æäº¤çš„æ›´æ”¹å†…å®¹</p>
<p>â— ç¬¬äºŒè¡Œï¼šç©ºè¡Œ</p>
<p>â— ç¬¬ä¸‰è¡Œä»¥åï¼šè®°è¿°æ›´æ”¹çš„åŸå› å’Œè¯¦ç»†å†…å®¹</p>
</li>
<li><p>ä¸­æ­¢æäº¤</p>
<p>è‹¥åœ¨ç¼–è¯‘å™¨å¯åŠ¨åæƒ³ç»ˆæ­¢ï¼Œåˆ™å°†æäº¤ä¿¡æ¯ç•™ç©ºå¹¶å…³é—­ç¼–è¯‘å™¨å³å¯</p>
</li>
</ul>
</li>
<li><h3 id="git-log-â€”â€”â€“æŸ¥çœ‹æäº¤æ—¥å¿—"><a href="#git-log-â€”â€”â€“æŸ¥çœ‹æäº¤æ—¥å¿—" class="headerlink" title="git log â€”â€”â€“æŸ¥çœ‹æäº¤æ—¥å¿—"></a>git log â€”â€”â€“æŸ¥çœ‹æäº¤æ—¥å¿—</h3><p><strong>git log</strong>å¯ä»¥æŸ¥çœ‹ä»¥å¾€ä»“åº“ä¸­æäº¤çš„æ—¥å¿—ã€‚å¦‚ï¼šä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶å€™è¿›è¡Œäº†æäº¤æˆ–åˆå¹¶ï¼Œä»¥åŠæ“ä½œå‰åæœ‰æ€æ ·çš„å·®åˆ«ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git log </span><br><span class="line">commit 335488e5478c13f9cf0259a9a66bafae8de13b9d (HEAD -&gt; master)</span><br><span class="line">Author: notrip &lt;â€œ1837357465@qq.comâ€&gt;</span><br><span class="line">Date:   Tue May 17 09:47:09 2022 -0400</span><br><span class="line"></span><br><span class="line">    First commit</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>git log â€“pretty=short</strong>ä¸æ˜¾ç¤ºDateï¼Œæ–¹ä¾¿æŠŠæ¡å¤šä¸ªæäº¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git log </span><br><span class="line">commit 335488e5478c13f9cf0259a9a66bafae8de13b9d (HEAD -&gt; master)</span><br><span class="line">Author: notrip &lt;â€œ1837357465@qq.comâ€&gt;</span><br><span class="line"></span><br><span class="line">    First commit</span><br></pre></td></tr></table></figure></li>
<li><p>ç‰¹å®šæŸ¥æ‰¾æ‘¸ä¸ªæ–‡ä»¶</p>
<p><code>$ git log READMR.md</code></p>
</li>
<li><p>æ˜¾ç¤ºæ–‡ä»¶çš„æ”¹åŠ¨</p>
<p>è‹¥æƒ³çœ‹æäº¤æ‰€å¸¦æ¥çš„æ”¹åŠ¨æ€åŠ ä¸Š -p </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git log -p</span><br><span class="line">$ git log -p README.md</span><br><span class="line">commit 335488e5478c13f9cf0259a9a66bafae8de13b9d (HEAD -&gt; master)</span><br><span class="line">Author: notrip &lt;â€œ1837357465@qq.comâ€&gt;</span><br><span class="line">Date:   Tue May 17 09:47:09 2022 -0400</span><br><span class="line"></span><br><span class="line">    First commit</span><br><span class="line"></span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li><h3 id="git-diff-â€”â€”â€“æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ«"><a href="#git-diff-â€”â€”â€“æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ«" class="headerlink" title="git diff â€”â€”â€“æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ«"></a>git diff â€”â€”â€“æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ«</h3><p>å…ˆvim README.md</p>
<p><code># Gitæ•™ç¨‹</code></p>
<ul>
<li><p>æŸ¥çœ‹å·¥ä½œæ ‘å’Œæš‚å­˜åŒºçš„å·®åˆ«</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index e69de29..981aef2 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+#Gitæ•™ç¨‹</span><br></pre></td></tr></table></figure>

<p>åœ¨æœ€åä¸€è¡Œå‡ºç°çš„+ï¼ˆ-ï¼‰è¡¨ç¤ºå…ˆæ·»åŠ çš„è¡Œï¼ˆè¢«åˆ é™¤ï¼‰</p>
<p>ç”¨<strong>git add</strong>å°†mdæ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</p>
<p><code>$ git add READMD.md</code></p>
<ul>
<li><h4 id="æŸ¥çœ‹å·¥ä½œæ ‘å’Œæœ€æ–°æäº¤çš„å·®åˆ«"><a href="#æŸ¥çœ‹å·¥ä½œæ ‘å’Œæœ€æ–°æäº¤çš„å·®åˆ«" class="headerlink" title="æŸ¥çœ‹å·¥ä½œæ ‘å’Œæœ€æ–°æäº¤çš„å·®åˆ«"></a>æŸ¥çœ‹å·¥ä½œæ ‘å’Œæœ€æ–°æäº¤çš„å·®åˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git diff HEAD</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index e69de29..981aef2 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+#Gitæ•™ç¨‹</span><br></pre></td></tr></table></figure>

<p><strong>å…»æˆå¥½ä¹ æƒ¯ï¼šæ‰§è¡Œgit commit å‰å…ˆæ‰§è¡Œ git diff HEAD</strong></p>
<p>å¯¹æ¯”åè¿›è¡Œæäº¤ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;Add index&quot;</span><br><span class="line">[master fe4c8d9] Add index</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>

<p>ä¿é™©èµ·è§å†æŸ¥çœ‹ä¸‹ä¸€è§‰æ—¥å¿—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br><span class="line">commit fe4c8d999e632799390fc35ca8d9529e90940014 (HEAD -&gt; master)</span><br><span class="line">Author: notrip &lt;â€œ1837357465@qq.comâ€&gt;</span><br><span class="line">Date:   Tue May 17 10:02:02 2022 -0400</span><br><span class="line"></span><br><span class="line">    Add index</span><br><span class="line"></span><br><span class="line">commit 335488e5478c13f9cf0259a9a66bafae8de13b9d</span><br><span class="line">Author: notrip &lt;â€œ1837357465@qq.comâ€&gt;</span><br><span class="line">Date:   Tue May 17 09:47:09 2022 -0400</span><br><span class="line"></span><br><span class="line">    First commit</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°ä¸¤ä¸ªcommitè¡¨ç¤ºæˆåŠŸ    </p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="åˆ†æ”¯çš„æ“ä½œï¼ˆ4-2ï¼‰"><a href="#åˆ†æ”¯çš„æ“ä½œï¼ˆ4-2ï¼‰" class="headerlink" title="åˆ†æ”¯çš„æ“ä½œï¼ˆ4-2ï¼‰"></a>åˆ†æ”¯çš„æ“ä½œï¼ˆ4-2ï¼‰</h1><ul>
<li><h3 id="git-branch-â€”â€”â€“æ˜¾ç¤ºåˆ†æ”¯â€”-è§ˆè¡¨"><a href="#git-branch-â€”â€”â€“æ˜¾ç¤ºåˆ†æ”¯â€”-è§ˆè¡¨" class="headerlink" title="git branch â€”â€”â€“æ˜¾ç¤ºåˆ†æ”¯â€”-è§ˆè¡¨"></a>git branch â€”â€”â€“æ˜¾ç¤ºåˆ†æ”¯â€”-è§ˆè¡¨</h3><p><strong>git branch</strong>æ˜¾ç¤ºå½“å‰æ‰€åœ¨åˆ†æ”¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">* master</span><br></pre></td></tr></table></figure></li>
<li><h3 id="git-checkout-b-â€”â€”â€”-åˆ›å»ºã€åˆ‡æ¢åˆ†æ”¯"><a href="#git-checkout-b-â€”â€”â€”-åˆ›å»ºã€åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="git checkout -b â€”â€”â€”-åˆ›å»ºã€åˆ‡æ¢åˆ†æ”¯"></a>git checkout -b â€”â€”â€”-åˆ›å»ºã€åˆ‡æ¢åˆ†æ”¯</h3><ul>
<li><p>åˆ‡æ¢åˆ°feature -Aåˆ†æ”¯å¹¶è¿›è¡Œæäº¤(ä¸¤ç§æ–¹æ³•)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git branch feature-A</span><br><span class="line">$ git checkout -b feature-A</span><br><span class="line">Switched to a new branch &#x27;feature-A&#x27;</span><br><span class="line">$ git branch</span><br><span class="line">* feature-A</span><br><span class="line">  master</span><br></pre></td></tr></table></figure>

<p><strong>ä¸æ–­å¯¹ä¸€ä¸ªåˆ†æ”¯è¿›è¡Œæäº¤çš„æ“ä½œè¢«ç§°ä¸ºâ€œåŸ¹è‚²åˆ†æ”¯â€</strong></p>
<p>Å“æ·»åŠ åˆ°feature-Aåˆ†æ”¯ä¸­</p>
<blockquote>
<p>$ vim README.md</p>
<blockquote>
<p>#Gitæ•™ç¨‹</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;Add feature-A&quot;</span><br><span class="line">[feature-A e5033d6] Add feature-A</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br></pre></td></tr></table></figure></blockquote>
</li>
<li><p>åˆ‡æ¢åˆ°masteråˆ†æ”¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br></pre></td></tr></table></figure>

<p>åˆ‡æ¢åˆ°masteråˆ†æ”¯ä¸­çœ‹åˆ°README.mdä¸­çš„å†…å®¹ä¸å˜ã€‚å› ä¸ºfeature-Aä¸ä¼šå½±å“masterã€‚</p>
</li>
<li><p>åˆ‡æ¢å›ä¸Šä¸€ä¸ªåˆ†æ”¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -</span><br><span class="line">Switched to branch &#x27;feature-A&#x27;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>æœ€è¿‘åªåœ¨å­¦ä¹ githubï¼Œä¸€ç›´æ²¡æœ‰æ•´ç†ï¼Œæ²¡æœ‰ä¸€ç›´æ›´æ–°ï¼Œä¸ä¹…å°±ä¼šæ›´æ–° ï¼ğŸ˜­</p>

	

	

</article>






	<span class="different-posts">ğŸ“• end of posts ğŸ“•</span>


	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 notrip | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
